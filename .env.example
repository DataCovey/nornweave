# =============================================================================
# NornWeave Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# Storage Configuration (Ur√∞r - The Well)
# -----------------------------------------------------------------------------
# Database driver: postgres | sqlite
DB_DRIVER=postgres

# PostgreSQL connection string (production)
DATABASE_URL=postgresql+asyncpg://nornweave:nornweave@localhost:5432/nornweave

# SQLite path (local development only)
# DATABASE_URL=sqlite+aiosqlite:///./nornweave.db

# -----------------------------------------------------------------------------
# Email Provider Configuration (Yggdrasil - Provider Adapters)
# -----------------------------------------------------------------------------
# Provider: mailgun | ses | sendgrid | resend
EMAIL_PROVIDER=mailgun

# Default sender domain
EMAIL_DOMAIN=mail.example.com

# Mailgun Configuration
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_API_URL=https://api.mailgun.net

# AWS SES Configuration
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# SendGrid Configuration
SENDGRID_API_KEY=

# Resend Configuration
RESEND_API_KEY=

# -----------------------------------------------------------------------------
# API Security (Yggdrasil - Gateway)
# -----------------------------------------------------------------------------
# API key for authenticating requests (generate a secure random string)
API_KEY=

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Host and port for the API server
HOST=0.0.0.0
PORT=8000

# Environment: development | staging | production
ENVIRONMENT=development

# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Phase 3: Semantic Search (Wisdom)
# -----------------------------------------------------------------------------
# OpenAI API key for generating embeddings
OPENAI_API_KEY=

# Embedding model
EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Phase 3: Rate Limiting (Skuld's Debt)
# -----------------------------------------------------------------------------
# Redis connection string (required for distributed rate limiting)
REDIS_URL=redis://localhost:6379/0

# Default rate limits
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_EMAILS_PER_MINUTE=10

# -----------------------------------------------------------------------------
# Phase 3: Webhooks (Outbound Prophecy)
# -----------------------------------------------------------------------------
# Secret for signing webhook payloads
WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# MCP Server (Huginn & Muninn)
# -----------------------------------------------------------------------------
# MCP server transport: stdio | sse
MCP_TRANSPORT=stdio
